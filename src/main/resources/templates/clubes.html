<!DOCTYPE HTML>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
		<!-- <div th:replace="/fragments/header :: header-css"/>-->
	<head>	
	    <title>Sports - Gestion de Ligas</title>
	    <link rel="icon" href="images/favicon.ico"/>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	    
   			<link rel="stylesheet" type="text/css" href="css/bootstrap.min_new.css" />
			<link rel="stylesheet" type="text/css" href="css/dataTables.bootstrap.min.css" />
			<link rel="stylesheet" type="text/css" href="css/style.css" />
			<link rel="stylesheet" type="text/css" href="css/sportsgestor/sportsgestor.css" />
			<link rel="stylesheet" type="text/css" href="css/sportsgestor/index.css" />
			<link rel="stylesheet" type="text/css" href="css/bootstrap-dialog.min.css" /> 
			<link rel="stylesheet" type="text/css" href="css/buttons.dataTables.min.css" />
		
			<script src="js/jquery.js" type="text/javascript"></script>
			<script src="js/bootstrap.min.js"></script>
			<script src="js/bootstrap-dialog.js" type="text/javascript"></script>
			<script src="js/jquery.dataTables.min.js" type="text/javascript"></script>
			<script src="js/moment.min.js" type="text/javascript"></script>
			<script src="js/datetime-moment.js" type="text/javascript"></script>
			<script src="js/dataTables.bootstrap.min.js" type="text/javascript"></script>
			<script src="js/dataTables.buttons.min.js" type="text/javascript"></script>
			<script src="js/buttons.html5.min.js" type="text/javascript"></script>
			<script src="js/jszip.min.js" type="text/javascript"></script>
			<script src="js/pdfmake.min.js" type="text/javascript"></script>
			<script src="js/vfs_fonts.js" type="text/javascript"></script>

			<script src="js/clubes.js" type="text/javascript"></script>
			
	</head>
	<body>
		<div th:replace="/fragments/header :: header"> </div>
		
		
		
		<div id="contenedorA" class="contenedorA">
					<div id="editorForm" class="subscriber_formEd" style="position:absolute;display:none">
						<div id="editorSubForm" class="sub_div_formEd" >
								<span id="kv_form_closeEditor" class="kv_form_closeEd" onclick="javascript:kv_form_closeClick('editorForm')">X</span>
						   <table  style="width:100%">
						   		<tr style="width:15px">
						   			<td >						
										<label>Id:</label>
									</td>
									<td>
										<p id="campId"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Nombre:</label>
									</td>
									<td>
										<p id="campExternalName"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Esquema:</label>
									</td>
									<td>
										<p id="campEsquema"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Estado:</label>
									</td>
									<td>								
										<p id="campActivo"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Fecha Inicio:</label>
									</td>
									<td>								
										<p id="campFechaIni"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Fecha Fin:</label>
									</td>
									<td>
										<p id="campFechaFin"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Fecha Expiracion:</label>
									</td>
									<td>
										<p id="campFechaExp"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Texto:</label>
									</td>
									<td>					
										<p id="campTexto"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Subject:</label>
									</td>
									<td>
										<p id="campSubject"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Callback:</label>
									</td>
									<td>								
										<p id="campCallback"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Pais:</label>
									</td>
									<td>						
										<p id="campPais"></p>
									</td>
								</tr>
								<tr>
									<td>
										<label>Cant. Destinos:</label>
									</td>
									<td>						
										<p id="nroDestinos"></p>
									</td>
								</tr>
								
																<tr>
									<td>
										<label>Usuario:</label>
									</td>
									<td>						
										<p id="userId"></p>
									</td>
								</tr>
								
																<tr>
									<td>
										<label>Fecha insercion:</label>
									</td>
									<td>						
										<p id="insertDate"></p>
									</td>
								</tr>
								
								
								
								<tr>
									<td>
										<label>Ancho Banda:</label>
									</td>
									<td>
										<p id="campAnchoBanda"></p>
									</td>
								</tr>
							</table>
							<div style="text-align: center; margin-top: inherit;">	
								<input type='button' value='Close' class="default" name="cancel" onClick="javascript:kv_form_closeClick('editorForm')"/>
							</div>
						</div>	
					</div>
		


	
							
			<div class="container" style="width:1170px">
			  <div class="container toolbar ">
				<div class="row justify-content-sm-left">
					<div class="col-sm-2  ">
						<form action="#" data-th-action="@{/clubes}" th:object="${club_bean}" method="get" name="clubesForm" id="clubesForm">
					    	<span class="pull-left"><button  onclick="location.href='/SportsGestor';" type="button" class="btn btn-link" name="clubesVolver" id="clubesVolver"><span class="glyphicon glyphicon-chevron-left"> </span> Volver</button></span>
						</form> 	
					</div>
					
					<div class="col-sm-2  ">
						<form action="#" data-th-action="@{/editclub}" th:object="${club_bean}" method="get" name="modClubForm" id="modClubForm">
							<input type="hidden" id="idClub" name="idClub" th:field="*{club_id}" value="" />
							<input type="hidden" id="nombreClub" name="nombreClub" th:field="*{nombre_club}" value="" />
							<span class="pull-left"><button sec:authorize="hasAnyRole('ADMIN','EDITOR')" type="button" class="btn btn-link" name="nuevo" id="nuevo"><span class="glyphicon glyphicon-plus"> </span> Nuevo Club</button></span>					
						</form>
					</div>
					
					
					
					<!-- 
					<div class="col-sm-2  ">
						<form action="#" data-th-action="@{/reports}" th:object="${campaign_bean}" method="get" name="reportForm" id="reportForm">
							<input type="hidden" id="optReport" name="optReport" th:field="*{idReporte}" value="" />
							<div class="dropdown">
								<button sec:authorize="hasAnyRole('ADMIN','EDITOR','READONLY')" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-list-alt"> </span> Reportes <span class="caret"></span></button>
								<ul class="dropdown-menu dropdown-menu-right">
									<li><a href="javascript:optionReport1()">Estadisticas Por Campañas</a></li>
								</ul>
							</div>
						</form>
					</div>
					-->
					
					<!-- <div class="col-sm-2  ">
						<form action="#" data-th-action="@{/admintools}" th:object="${campaign_bean}" method="get" name="admForm" id="admForm">
							<span class="pull-left"><button sec:authorize="hasAnyRole('ADMIN','USERMGR','MASTER')"  type="button" class="btn btn-link" name="admUsr" id="admUsr"><span class="glyphicon glyphicon-fire"> </span> Adm. Usuarios</button></span>
						</form>
					</div>
					-->
				</div>
			</div >
			
			
			<div class="row">			
				<div class="col col-lg-12" id="clubesDiv" name="clubesDiv">
					<table  id="clubesTable"  class="table table-striped table-bordered table-hover" >
					</table>
				</div>
			</div>
			
			</div>

			<div id="status" name="status" th:if="${witherror}">
				<script th:inline="javascript">
					var mess = "Estado: ";
					mess +=[[${statusMessage}]];
				
					BootstrapDialog.show({
						title: 'Error procesando campaña ',
						message: mess,
						animate: false,
						buttons: [{
							label: 'Ok',		                
							action: function(dialog) {
								dialog.close();
							}
						}]
					});	
				</script>
			</div>
	
			<div id="status" name="status" th:if="${statusOk}">
				<script th:inline="javascript">
					var mess = "Estado: ";
					mess +=[[${statusMessage}]];
	
					BootstrapDialog.show({
						title: 'Campaña',
						message: mess,
						animate: false,
						buttons: [{
							label: 'Ok',		                
							action: function(dialog) {
								dialog.close();
							}
						}]
					});	
				</script>
			</div>
	</div>
	<!-- <div th:replace="fragments/footer :: footer"/> -->

		<script th:inline="javascript">
			$("#header").load("header.html"); 
		    var dataSet= [[${clubesList}]];
		
			//Formato de la fecha para la tabla
			$.fn.dataTable.moment( 'DD/MM/YYYY HH:mm:ss' );
		    var table = $('#clubesTable').DataTable( 
		   		{
		         "language": {"url": "datatables.net/js/Spanish.json"},				
				//"scrollY":   500,
				"pagingType": "full_numbers",
				//"scrollCollapse": true,
			    "paging":    true,		    
				"order": [[ 1, "asc" ]],
				"aaData": dataSet,
				"bAutoWidth": true,
				"columnDefs": [ {className: "text-center", "targets": [0,1]}],				
				"columns": [ { "sTitle": "Id","width":"2%"},
	                { "orderable": false,
					  "sTitle": "Escudo",
					  "width":"2%",
					  render : function (data, type, row) {
						  if (data) {
						  	  return '<img src="data:image/png;base64,'+ data + '" width="50px" height="50px"/>';
						  } else {
							  return null;
						  }
	                    }
					},
	                { "sTitle": "Club","width":"30%"},
	                { "sTitle": "Ciudad","width":"20%"},
	                { "sTitle": "Provincia","width":"20%"},
	                { "sTitle": "Pais","width":"18%"}],
					
                "dom": 'Bftlipr',
	            "buttons": [
	        				    {
	        				   	  extend: 'copy',
	        				      title: 'Listado de Clubes',
	        				      footer: 'true'
	        				    },			                    			                    
	        				    {
	        	             	  extend: 'excel',
	        				      title: 'Listado de Clubes',
	        					  footer: 'true'				                    
	        				    },
	        				    {
	        					  extend: 'csvHtml5',
	        	                },
	        				    {
	        				      extend: 'pdfHtml5',
	        				      title: 'Listado de Clubes',
	        					  footer: 'true'
	        				    }
	        				  ],

  			    "fnDrawCallback":function(){
					 $('table#clubesTable td').bind('mouseenter', function () { $(this).parent().children().each(function(){$(this).addClass('active');}); });
					 $('table#clubesTable td').bind('mouseleave', function () { $(this).parent().children().each(function(){$(this).removeClass('active');}); });
				}
		    } );
		    
		    
			function kv_form_closeClick(index)
			{
				var divB = document.getElementById(index);
				divB.style.display = "none";
				var botton = document.getElementById("nuevo");
				
				$("#nuevo").removeAttr("disabled");
			}
						
		</script>
	
	</body>
		
</html>	






